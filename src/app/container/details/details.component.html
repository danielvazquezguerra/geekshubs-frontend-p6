<main class="main-details container-fluid h-100 m-0 p-0">
    
    <section class="movie-details d-flex w-100 m-0 p-0">
        
        <article class="movie-left d-flex w-75 h-100 m-0 p-0">
            
            <div class="img-content d-flex h-100 justify-content-center align-items-center">
                
                <img class="img-box" [src]= "getImage(detalle)" alt="{{ detalle?.title }}">

            </div>
            
            <div class="info-box d-flex flex-column justify-content-center align-items-start m-0 p-2">
                
                <h3 class="mv-title"> {{ detalle?.title }} </h3>
                <p class="mv-id"> ID: {{ detalle?.id }} </p>
                
                <div class="average-box d-flex align-items-center w-100 mb-3">
                    
                    <p class="mv-average"> {{ detalle?.vote_average }} </p><span class="average-top"> / 10</span>
                    <p class="mv-release"> {{ detalle?.release_date | date:"yyyy" }} </p>               
                    
                    <div *ngFor="let genre of genres | slice:0:3"> 
                        <a class="bt-genre" href="#"> {{ genre.name }} </a>
                    </div>
                </div>
                
                <p class="mv-overview"> {{ detalle?.overview }} </p>
                <div *ngIf="detalle?.homepage">
                    <a class="mv-homepage" href=" {{ detalle?.homepage}} " target="_blank">Web pelicula</a>
                </div>

                <!-- SELECT DAYS -->
                <div class="rent-box d-flex w-100 m-0 pt-3">
                    <nz-select [(ngModel)]="selectedValue" nzAllowClear nzPlaceHolder="Elige" name="valueCheck">
                        <nz-option *ngFor="let option of optionList" [nzValue]="option" [nzLabel]="option.label" ></nz-option>
                    </nz-select>
                    
                    <!-- BOTON ALQUILER GUEST -->
                     <button class="bt-rent" (click)="rentMovieGuest()" *ngIf="!usersService.getUser()" nz-button nzType="default">ALQUILER</button>

                     <!-- BOTON ALQUILER LOGIN -->
                     <button class="bt-rent" (click)="orderCreate(movie)" *ngIf="usersService.getUser()" nz-button nzType="default">Alquilar</button>
                </div>

                <!-- Mensajes  -->
                <div class="succesmessage" *ngIf="successMsg">
                    {{successMsg}}
                </div>
            
                <div class="errormessage">
                    {{errorMsg}}
                </div>  
            </div>
        </article>

        <article class="movie-right d-flex flex-column w-25 h-100 m-0 p-0" *ngIf="order !== null">
                <section class="details-orders d-flex flex-column h-100 w-100 m-0 p-3">
                    <div class="order-box">

                        <h3 class="h3-title">Pedido.</h3>

                        <div class="n-order">
                            <p>ORDEN nº <span class="bold-order">&nbsp; {{ order?.id }}545658</span></p>
                        </div>
                        <div class="n-order">
                            <p>Fecha de pedido > <span class="bold-order thin-order">&nbsp; {{ order?.dateRent | date }} 23/03/2020 </span></p>
                        </div>
                        <div class="n-order">
                            <p>Fecha de pedido > <span class="bold-order thin-order">&nbsp; {{ order?.dateArrival | date }} 25/03/2020 </span></p>
                        </div>
                        <div class="n-order">
                            <p>Días de alquiler > <span class="bold-order thin-order">&nbsp; {{ order?.daysRent }} 5 días </span></p>
                        </div>
                         <div class="n-order">
                            <p>Status > <span class="bold-order thin-order">&nbsp; {{ order?.status }} Enviado. </span></p>
                        </div>
                        <div class="n-order">
                            <p>Status > <span class="bold-order thin-order">&nbsp; {{ order?.price }}7.50€</span></p>
                        </div>
                        <p> {{ order?.MovieId }}</p>
                        <p> {{ order?.Movie.title }}</p>
                    </div>
                </section> 
        </article>
    </section>

    <section class="casting w-100 container">

        <h3 class="h3-title w-100">Casting.</h3>
       
        <!-- ACTORES -->
        <div class="row">
            <div class="actores" *ngFor="let actor of actores | slice:0:8"> 
                <div class="actor-box col p-2">
                    <p class="actor-name"> {{ actor.name }}. </p>
                    <p> {{ actor.character }} </p>
                    <img class="actor-img" [src]= "getImage3(actor)" alt="{{ actor.name }}" [routerLink]="'/details/' + actor.id">
                </div>            
            </div>
        </div>

    </section>
    
    <app-movies-genre></app-movies-genre>
       
</main>
        
                         


       


    




